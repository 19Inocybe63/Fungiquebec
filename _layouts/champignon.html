---
layout: default
---

{% capture customTitle %}<i>{{ page.nom }}</i>{% if page.details.nom-francais %} / {{ page.details.nom-francais }}{% endif %}{% endcapture %}
{% include wrap.html wrap_title=customTitle %}

<div class="container mt">
    <div class="row">
        <div class="col-lg-4 col-md-5 col-sm-6">
            {% if page.image %}
                {% if page.image-originale %}
                    <a href="{{ page.image-originale }}">
                {% endif %}
                <img src="{{ page.image }}" />
                {% if page.image-originale %}
                    </a>
                {% endif %}
                <div class="spacing"></div>
            {% endif %}

            <h4>Détails</h4>
            <div class="hline"></div>

            {% for champ in site.champs-details %}
                {% if page.details[champ.name] %}
                    <p>
                        {% if champ.format == "table" %}
                            <table class="tableElements">
                                <tr>
                                {% for colonne in champ.table %}
                                    <th>{{ colonne.label }}</th>
                                {% endfor %}
                                </tr>

                                {% for element in page.details[champ.name] %}
                                    <tr>
                                    {% for colonne in champ.table %}
                                        <td>{{ element[colonne.name] }}</td>
                                    {% endfor %}
                                    </tr>
                                {% endfor %}
                            </table>
                        {% else %}
                            <b>{{ champ.label }} :</b>
                            {{ page.details[champ.name] | newline_to_br }}
                        {% endif %}
                    </p>
                {% endif %}
            {% endfor %}

            <p><b>Auteur :</b> {{ page.author }}</p>
            <p><b>Derniere mise à jour :</b> {{ page.date | date: "%b %-d, %Y" }}</p>
            <div class="spacing"></div>

            {% assign planchesPresentes = page.planches | map: "miniature" | join: "" | strip %}
            {% if planchesPresentes.size > 0 %}
                <h4>Planches micrographiques</h4>
                <div class="hline"></div>

                {% for planche in page.planches %}
                    {% if planche.miniature %}
                        <p>
                        {% if planche.originale %}
                            <a href="{{ planche.originale }}">
                        {% endif %}
                            <img src="{{ planche.miniature }}" />
                        {% if planche.originale %}
                            </a>
                        {% endif %}
                        </p>
                    {% endif %}
                {% endfor %}
                <div class="spacing"></div>
            {% endif %}
        </div>

        <div class="col-lg-8 col-md-7 col-sm-6">
            <h4>Description</h4>
            <div class="hline"></div>

            {% for champ in site.champs-description %}
                {% if page.description[champ.name] %}
                    <p>
                        <b>{{ champ.label }} :</b>
                        {% if champ.format == "liste" %}
                            {% assign elements = page.description[champ.name] | strip | newline_to_br | split: "<br />" %}
                            <ul class="listeElements">
                            {% for element in elements %}
                                <li>{{ element }}</li>
                            {% endfor %}
                            </ul>
                        {% else %}
                            {{ page.description[champ.name] | newline_to_br }}
                        {% endif %}
                    </p>
                {% endif %}
            {% endfor %}

            <div class="spacing"></div>
        </div>
    </div><!--/row -->

    {% if page.collections %}        
    <div class="row">
        <div class="col-lg-12">
            <h4>Collections</h4>
            <div class="hline"></div>
            
            <div class="table-responsive">
                <table class="table table-striped tableCollections">
                    <tr>
                    {% for champ in site.champs-collections %}
                        <th>{{ champ.label }}</th>
                    {% endfor %}
                    </tr>

                    {% for element in page.collections %}
                        <tr>
                        {% for champ in site.champs-collections %}
                            <td>
                            {% if champ.format == "planche" %}
                                <div>{{ element[champ.name].numero }}</div>
                                {% if element[champ.name].miniature %}
                                    <div>
                                        {% if element[champ.name].originale %}
                                            <a href="{{ element[champ.name].originale }}">
                                        {% endif %}
                                            <img src="{{ element[champ.name].miniature }}" />
                                        {% if element[champ.name].originale %}
                                            </a>
                                        {% endif %}
                                    </div>
                                {% endif %}
                            {% elsif element[champ.name] %}
                                {{ element[champ.name] }}
                            {% endif %}
                            </td>
                        {% endfor %}
                        </tr>
                    {% endfor %}
                </table>
            </div>

            <div class="spacing"></div>
        </div>
    </div><!--/row -->
    {% endif %}

    {% if page.album-flickr %}
    <div class="row">
        <div class="col-lg-12">
            <h4>Photos</h4>
            <div class="hline"></div>
            <div class="spacing"></div>

            <table class="flickr_badge_wrapper">
                <tr>
                    {% for album in page.album-flickr %}
                    <script type="text/javascript" src="https://www.flickr.com/badge_code_v2.gne?count=1000&display=latest&size=m&source=user_set&set={{ album }}"></script>
                    {% endfor %}
                </tr>
            </table>

            <div class="spacing"></div>
        </div>
    </div><!--/row -->
    {% endif %}

    {% if site.disqus and page.comments %}
    <div class="row">
        <div class="col-lg-12">
            <h4>Commentaires</h4>
            <div class="hline"></div>
            <div class="spacing"></div>

            <div id="disqus_thread"></div>
            <script>
                var disqus_config = function () {
                    this.page.url = "{{ page.url | prepend: site.baseurl | prepend: site.url }}";
                    this.page.identifier = "{{ page.title }}";
                };
                (function() {
                    var d = document, s = d.createElement('script');
                    s.src = '//{{ site.disqus }}.disqus.com/embed.js';
                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

            <div class="spacing"></div>
        </div>
    </div><!--/row -->
    {% endif %}
</div><!--/container -->
