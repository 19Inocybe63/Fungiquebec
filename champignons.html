---
layout: wrap
title: Champignons
permalink: /champignons/
---

<script>
    function showAllChampignons() {
        toggleLettreSelected($('.lettre-tous')[0]);
        $('.lettre').show();
    }

    function hideAllChampignons() {
        $('#search-results').html("");
    }

    function showResults(results) {
        var resultCountDiv = $('<div>');
        resultCountDiv.text(results.length + " champignons trouv√©s");
        $('#search-results').append(resultCountDiv);

        for (var i = 0; i < results.length; ++i) {
            var result = results[i];
            if (!result) {
                continue;
            }
            var doc = champignons[(result.ref * 1) - 1];
            if (!doc) {
                continue;
            }

            var searchResultDiv = $('<div>');
            var searchResultLink = $('<a>');
            searchResultLink.html("<i>" + doc.nom + "</i>");
            searchResultLink.attr('href', doc.url);
            searchResultDiv.append(searchResultLink);

            $('#search-results').append(searchResultDiv);
//            $('.lettre-entete.lettre' + indexChampignons.documentStore.getDoc(result.ref).nom[0].toLowerCase()).show();
        }
    }

    function onSearchBoxKeyUp(e) {
        if (e.keyCode == 13) {
            var searchbox = e.eventTarget;
            search(searchbox);
        }
    }

    function onSearchButtonClick() {
        var searchbox = $('#searchbox');
        if (searchbox) {
            search(searchbox[0]);
        }
    }

    function search(searchbox) {
        if (searchbox) {
            searchHandler.query = searchbox.value;
            searchHandler.search();
        }
    }
</script>

<div class="container mtb">
    <div class="row">
        <div class="col-lg-12">
            <form id="searchform" onsubmit="return false">
                <input id="searchbox" type="text" placeholder="Recherche..." onkeyup="onSearchBoxKeyUp(event)" />
                <button id="searchbutton" value="Rechercher" onclick="onSearchButtonClick()">Rechercher</button>
            </form>

            <div id="search-results">

            </div>
        </div>
    </div><!--/row -->
</div><!--/container -->

<script src="{{ "/assets/js/elasticlunr.min.js" | prepend: site.baseurl }}"></script>
<script src="{{ "/assets/js/lunr.stemmer.support.js" | prepend: site.baseurl }}"></script>
<script src="{{ "/assets/js/lunr.fr.js" | prepend: site.baseurl }}"></script>
<script src="{{ "/assets/js/searchHandler.js" | prepend: site.baseurl }}"></script>
<script src="{{ "/assets/js/champignons.js" | prepend: site.baseurl }}"></script>
<script>
    function onDomReady() {
        searchHandler.index = indexChampignons;
        searchHandler.allResults = champignons;
        searchHandler.showResults = showResults;
        searchHandler.hideAllResults = hideAllChampignons;
        searchHandler.showAllResults = showAllChampignons;
        searchHandler.facetsContainer = $($('#facets')[0]);
        searchHandler.facets = facetsChampignons;
        searchHandler.initialize("");
    }
</script>